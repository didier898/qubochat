{% extends "base.html" %}
<!--{% load static %}-->

{% block content %}
<div class="container">
    <h2>Conversación con {{ conversacion.get_other_user.username }}</h2>
    
    <div id="chat-box">
        <ul>
            {% for mensaje in mensajes %}
                <li>
                    {% if mensaje.sender == request.user %}
                        <strong>Tú:</strong> {{ mensaje.message }}
                    {% else %}
                        <strong>{{ mensaje.sender.username }}:</strong> {{ mensaje.message }}
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </div>

    <form method="post" action="{% url 'enviar_mensaje' %}">
        {% csrf_token %}
        <input type="hidden" name="receptor_id" value="{{ conversacion.get_other_user.id }}">
        <textarea name="mensaje" placeholder="Escribe tu mensaje aquí" required></textarea>
        <button type="submit">Enviar</button>
    </form>
</div>
{% endblock %}
